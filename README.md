# üçé H·ªÜ TH·ªêNG B√ÅN H√ÄNG TR√ÅI C√ÇY T∆Ø∆†I ONLINE

## üìã T·ªîNG QUAN D·ª∞ √ÅN

H·ªá th·ªëng b√°n h√†ng tr√°i c√¢y t∆∞∆°i online ƒë∆∞·ª£c ph√°t tri·ªÉn b·∫±ng PHP thu·∫ßn v·ªõi ki·∫øn tr√∫c MVC, s·ª≠ d·ª•ng Smarty Template Engine v√† MySQL database. H·ªá th·ªëng h·ªó tr·ª£ c·∫£ kh√°ch h√†ng ch∆∞a ƒëƒÉng k√Ω (guest) v√† ng∆∞·ªùi d√πng ƒë√£ ƒëƒÉng k√Ω, v·ªõi c√°c ch·ª©c nƒÉng qu·∫£n l√Ω ƒë·∫ßy ƒë·ªß cho admin.

## üèóÔ∏è KI·∫æN TR√öC H·ªÜ TH·ªêNG

### C√¥ng ngh·ªá s·ª≠ d·ª•ng:
- **Backend**: PHP 8.0.30
- **Database**: MySQL/MariaDB
- **Template Engine**: Smarty 4.x
- **Frontend**: HTML5, CSS3, JavaScript (ES6+)
- **Icons**: FontAwesome 6.5.0
- **Charts**: Chart.js
- **Excel Export**: PhpSpreadsheet 1.28.0

### C·∫•u tr√∫c th∆∞ m·ª•c:
```
itc_toi-main/
‚îú‚îÄ‚îÄ cache/                    # Cache Smarty
‚îú‚îÄ‚îÄ controller/              # Controllers (MVC)
‚îú‚îÄ‚îÄ model/                   # Models (MVC)
‚îú‚îÄ‚îÄ templates/               # Templates Smarty
‚îú‚îÄ‚îÄ templates_c/             # Compiled templates
‚îú‚îÄ‚îÄ vendor/                  # Composer dependencies
‚îú‚îÄ‚îÄ img/                     # Static images
‚îú‚îÄ‚îÄ config.php              # Database configuration
‚îú‚îÄ‚îÄ index.php               # Main entry point
‚îî‚îÄ‚îÄ composer.json           # Dependencies
```

## üöÄ C√ÅC CH·ª®C NƒÇNG CH√çNH

### 1. üè† TRANG CH·ª¶ (GUEST USER)

#### 1.1 Giao di·ªán ch√≠nh
- **Header**: Logo, menu navigation, gi·ªè h√†ng, ƒëƒÉng nh·∫≠p/ƒëƒÉng k√Ω
- **Banner**: Slider h√¨nh ·∫£nh s·∫£n ph·∫©m n·ªïi b·∫≠t
- **Danh m·ª•c s·∫£n ph·∫©m**: Hi·ªÉn th·ªã theo t·ª´ng danh m·ª•c
- **Footer**: Th√¥ng tin li√™n h·ªá, social media

#### 1.2 Qu·∫£n l√Ω gi·ªè h√†ng (Guest)
- **Th√™m s·∫£n ph·∫©m**: AJAX add to cart
- **C·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng**: Real-time update
- **X√≥a s·∫£n ph·∫©m**: Remove from cart
- **X√≥a to√†n b·ªô**: Clear cart
- **Hi·ªÉn th·ªã t·ªïng ti·ªÅn**: Dynamic calculation

#### 1.3 T√¨m ki·∫øm v√† l·ªçc
- **T√¨m ki·∫øm s·∫£n ph·∫©m**: Theo t√™n, m√¥ t·∫£
- **L·ªçc theo danh m·ª•c**: Dropdown menu
- **S·∫Øp x·∫øp**: Theo gi√°, t√™n, m·ªõi nh·∫•t

### 2. üë§ H·ªÜ TH·ªêNG NG∆Ø·ªúI D√ôNG

#### 2.1 ƒêƒÉng k√Ω t√†i kho·∫£n
- **Form ƒëƒÉng k√Ω**: H·ªç t√™n, email, m·∫≠t kh·∫©u
- **Validation**: Client-side v√† server-side
- **AJAX submission**: Kh√¥ng reload trang
- **Th√¥ng b√°o**: Success/error messages

#### 2.2 ƒêƒÉng nh·∫≠p/ƒêƒÉng xu·∫•t
- **Form ƒëƒÉng nh·∫≠p**: Email, m·∫≠t kh·∫©u
- **Session management**: PHP sessions
- **Remember me**: Cookie-based
- **Security**: Password hashing

#### 2.3 Trang c√° nh√¢n (Welcome Page)
- **Th√¥ng tin c√° nh√¢n**: Hi·ªÉn th·ªã th√¥ng tin user
- **Menu navigation**: ƒê∆°n h√†ng c·ªßa t√¥i, gi·ªè h√†ng
- **Gi·ªè h√†ng ri√™ng**: T√°ch bi·ªát v·ªõi guest cart
- **L·ªãch s·ª≠ ƒë∆°n h√†ng**: Xem tr·∫°ng th√°i ƒë∆°n h√†ng

### 3. üõí QUY TR√åNH MUA H√ÄNG

#### 3.1 Gi·ªè h√†ng n√¢ng cao (Logged-in User)
- **Persistent cart**: L∆∞u tr·ªØ database
- **Sync v·ªõi guest cart**: Khi ƒëƒÉng nh·∫≠p
- **Real-time updates**: AJAX operations
- **Quantity validation**: Ki·ªÉm tra t·ªìn kho

#### 3.2 Trang thanh to√°n (Checkout)
- **Th√¥ng tin giao h√†ng**: Form nh·∫≠p li·ªáu
- **Ph∆∞∆°ng th·ª©c thanh to√°n**:
  - Thanh to√°n khi nh·∫≠n h√†ng (COD)
  - Chuy·ªÉn kho·∫£n ng√¢n h√†ng
- **M√£ khuy·∫øn m√£i**: Apply/remove promotion codes
- **T√≠nh to√°n t·ªïng ti·ªÅn**: Bao g·ªìm gi·∫£m gi√°

#### 3.3 H·ªá th·ªëng khuy·∫øn m√£i
- **M√£ gi·∫£m gi√°**: Admin t·∫°o promotion codes
- **Gi·ªõi h·∫°n s·ª≠ d·ª•ng**: Quantity limit per code
- **Validation**: Ki·ªÉm tra ƒëi·ªÅu ki·ªán √°p d·ª•ng
- **T√≠nh to√°n gi·∫£m gi√°**: Percentage/fixed amount

### 4. üí≥ CH·ª®C NƒÇNG CHUY·ªÇN KHO·∫¢N NG√ÇN H√ÄNG

#### 4.1 T·∫°o m√£ chuy·ªÉn kho·∫£n
- **QR Code t·ª± ƒë·ªông**: VietQR standard
- **N·ªôi dung random**: ITC + 6 s·ªë ng·∫´u nhi√™n
- **Th·ªùi gian h·∫øt h·∫°n**: 30 ph√∫t
- **Ng√¢n h√†ng**: MB Bank (STK: 333777555)

#### 4.2 Trang thanh to√°n chuy·ªÉn kho·∫£n
- **Hi·ªÉn th·ªã QR Code**: Responsive design
- **Th√¥ng tin t√†i kho·∫£n**: Bank details
- **Countdown timer**: Real-time countdown
- **Ki·ªÉm tra thanh to√°n**: Manual check button
- **Tr·∫°ng th√°i r√µ r√†ng**: "Ch·ªù thanh to√°n"

#### 4.3 Qu·∫£n l√Ω chuy·ªÉn kho·∫£n (Admin)
- **Danh s√°ch ch·ªù x·ª≠ l√Ω**: Pending transfers
- **X√°c nh·∫≠n thanh to√°n**: Mark as paid
- **Th·ªëng k√™**: Pending, paid, expired counts
- **Auto refresh**: 30 seconds interval

### 5. üì¶ QU·∫¢N L√ù S·∫¢N PH·∫®M

#### 5.1 CRUD Operations
- **Th√™m s·∫£n ph·∫©m**: Form v·ªõi image upload
- **Ch·ªânh s·ª≠a**: Update product information
- **X√≥a s·∫£n ph·∫©m**: Soft delete
- **Danh s√°ch**: Pagination, search, filter

#### 5.2 Qu·∫£n l√Ω h√¨nh ·∫£nh
- **Upload t·ª´ m√°y t√≠nh**: Local file upload
- **Validation**: File type, size limits
- **Safe naming**: Unique filename generation
- **Preview**: Image preview before save

#### 5.3 Qu·∫£n l√Ω t·ªìn kho
- **S·ªë l∆∞·ª£ng s·∫£n ph·∫©m**: Quantity tracking
- **Tr·∫°ng th√°i t·ª± ƒë·ªông**: 
  - H·∫øt h√†ng (0)
  - S·∫Øp h·∫øt h√†ng (‚â§10)
  - C√≤n h√†ng (>10)
- **C·∫≠p nh·∫≠t khi b√°n**: Auto decrease quantity

### 6. üìã QU·∫¢N L√ù ƒê∆†N H√ÄNG

#### 6.1 Tr·∫°ng th√°i ƒë∆°n h√†ng
- **Pending**: Ch·ªù x·ª≠ l√Ω
- **Confirmed**: ƒê√£ x√°c nh·∫≠n
- **Shipping**: ƒêang giao h√†ng
- **Delivered**: ƒê√£ giao h√†ng
- **Cancelled**: ƒê√£ h·ªßy

#### 6.2 Qu·∫£n l√Ω ƒë∆°n h√†ng (Admin)
- **Danh s√°ch theo tr·∫°ng th√°i**: Filter by status
- **Chi ti·∫øt ƒë∆°n h√†ng**: Order details view
- **C·∫≠p nh·∫≠t tr·∫°ng th√°i**: Status management
- **T√¨m ki·∫øm**: Search by order ID, customer

#### 6.3 X·ª≠ l√Ω ƒë∆°n h√†ng
- **T·ª± ƒë·ªông c·∫≠p nh·∫≠t**: Khi thanh to√°n th√†nh c√¥ng
- **Email notification**: Order confirmation
- **Inventory update**: Auto decrease stock
- **Order history**: Track all changes

### 7. üìä B√ÅO C√ÅO V√Ä TH·ªêNG K√ä

#### 7.1 Dashboard t·ªïng quan
- **Th·ªëng k√™ t·ªïng h·ª£p**:
  - T·ªïng doanh thu
  - S·ªë ƒë∆°n h√†ng
  - S·ªë s·∫£n ph·∫©m
  - S·ªë ng∆∞·ªùi d√πng
- **Bi·ªÉu ƒë·ªì**: Chart.js visualization
- **ƒê∆°n h√†ng g·∫ßn ƒë√¢y**: Recent orders
- **Top s·∫£n ph·∫©m**: Best selling products

#### 7.2 B√°o c√°o b√°n h√†ng
- **Th·ªëng k√™ theo th·ªùi gian**:
  - H√¥m nay
  - Tu·∫ßn n√†y
  - Th√°ng n√†y
- **Bi·ªÉu ƒë·ªì doanh thu**: Line chart
- **Top s·∫£n ph·∫©m b√°n ch·∫°y**: Bar chart
- **Danh s√°ch ƒë∆°n h√†ng**: Detailed list

#### 7.3 Xu·∫•t Excel
- **B√°o c√°o b√°n h√†ng**: Sales report export
- **Dashboard data**: Overview export
- **Multiple sheets**: Separate data sheets
- **Professional formatting**: Styled Excel files

### 8. üë• QU·∫¢N L√ù NG∆Ø·ªúI D√ôNG

#### 8.1 Ph√¢n quy·ªÅn
- **Admin**: Full access to all features
- **User**: Shopping and order management
- **Guest**: Basic shopping features

#### 8.2 Qu·∫£n l√Ω user (Admin)
- **Danh s√°ch ng∆∞·ªùi d√πng**: User list
- **Th·ªëng k√™**: User statistics
- **Chi ti·∫øt**: User information
- **Block/Unblock**: User management

### 9. üé® GIAO DI·ªÜN V√Ä UX

#### 9.1 Responsive Design
- **Mobile-first**: Optimized for mobile
- **Tablet support**: Medium screen layouts
- **Desktop**: Full feature access
- **Cross-browser**: Chrome, Firefox, Safari, Edge

#### 9.2 UI/UX Features
- **Modern design**: Clean, professional look
- **Loading states**: Spinner animations
- **Error handling**: User-friendly messages
- **Success feedback**: Confirmation messages
- **Smooth transitions**: CSS animations

#### 9.3 Navigation
- **Breadcrumbs**: Page navigation
- **Search functionality**: Global search
- **Category navigation**: Dropdown menus
- **Quick actions**: Shortcut buttons

## üîß C√ÄI ƒê·∫∂T V√Ä TRI·ªÇN KHAI

### Y√™u c·∫ßu h·ªá th·ªëng:
- **PHP**: >= 8.0.30
- **MySQL**: >= 5.7
- **Web Server**: Apache/Nginx
- **Composer**: Dependency management

### C√†i ƒë·∫∑t:
1. **Clone repository**
2. **Install dependencies**: `composer install`
3. **Configure database**: Edit `config.php`
4. **Import database**: SQL schema
5. **Set permissions**: Cache directories
6. **Configure web server**: Virtual host

### Database Schema:
```sql
-- Core tables
users (id, username, email, password, role, created_at)
products (id, name, description, price, quantity, category_id, image_url)
categories (id, name, description)
orders (id, user_id, total_amount, status, payment_method, created_at)
order_items (id, order_id, product_id, quantity, price)
cart (id, user_id, product_id, quantity)
cart_guest (session_id, product_id, quantity)
promotions (id, code, discount_type, discount_value, quantity_limit)
promotion_usage (id, promotion_id, user_id, order_id, used_at)
bank_transfer (id, order_id, qr_code, transfer_content, amount, status, expires_at)
```

## üõ°Ô∏è B·∫¢O M·∫¨T

### Security Features:
- **Password hashing**: bcrypt encryption
- **SQL injection prevention**: Prepared statements
- **XSS protection**: Input sanitization
- **CSRF protection**: Token validation
- **Session security**: Secure session handling
- **File upload security**: Type and size validation

### Data Protection:
- **User privacy**: Personal data protection
- **Order security**: Secure payment processing
- **Admin access**: Role-based permissions
- **Audit trail**: Activity logging

## üìà HI·ªÜU SU·∫§T V√Ä T·ªêI ∆ØU

### Performance Optimization:
- **Caching**: Smarty template caching
- **Database indexing**: Optimized queries
- **Image optimization**: Compressed images
- **CDN integration**: Static asset delivery
- **Lazy loading**: On-demand content loading

### Scalability:
- **Modular architecture**: Easy to extend
- **Database optimization**: Efficient queries
- **Caching strategy**: Multiple cache layers
- **Load balancing**: Ready for scaling

## üß™ TESTING

### Test Coverage:
- **Unit tests**: Individual component testing
- **Integration tests**: Feature testing
- **User acceptance**: End-to-end testing
- **Performance testing**: Load testing

### Test Scenarios:
- **User registration/login**
- **Shopping cart operations**
- **Order placement**
- **Payment processing**
- **Admin operations**

## üìö T√ÄI LI·ªÜU API

### RESTful Endpoints:
```
POST /api/cart/add          # Add to cart
PUT  /api/cart/update       # Update cart
DELETE /api/cart/remove     # Remove from cart
POST /api/checkout          # Process checkout
POST /api/promotion/apply   # Apply promotion
GET  /api/orders            # Get user orders
```

### AJAX Operations:
- **Cart management**: Real-time updates
- **User authentication**: Login/register
- **Order processing**: Checkout flow
- **Payment verification**: Bank transfer check

## üöÄ ROADMAP

### Future Features:
- **Mobile app**: React Native/Flutter
- **Payment gateway**: VNPay, Momo integration
- **Inventory management**: Advanced stock control
- **Customer support**: Live chat system
- **Analytics**: Advanced reporting
- **Multi-language**: Internationalization

## üë• ƒê√ìNG G√ìP

### Development Team:
- **Backend Development**: PHP, MySQL
- **Frontend Development**: HTML, CSS, JavaScript
- **UI/UX Design**: User interface design
- **Testing**: Quality assurance
- **Documentation**: Technical writing

### Code Standards:
- **PSR-4**: Autoloading standard
- **PSR-12**: Coding style guide
- **Git workflow**: Feature branch workflow
- **Code review**: Peer review process

## üìÑ LICENSE

This project is licensed under the MIT License - see the LICENSE file for details.

## üìû LI√äN H·ªÜ

- **Email**: support@fruitstore.com
- **Phone**: +84 123 456 789
- **Address**: 123 Fruit Street, Ho Chi Minh City, Vietnam

---

**¬© 2025 Fruit Store. All rights reserved.** #   B a n t r a i c a y  
 